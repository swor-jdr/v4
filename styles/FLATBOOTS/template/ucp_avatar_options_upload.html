<style>
.btn-file{position:relative;overflow:hidden;vertical-align:middle}.btn-file>input{position:absolute;top:0;right:0;width:100%;height:100%;margin:0;font-size:23px;cursor:pointer;filter:alpha(opacity=0);opacity:0;direction:ltr}.fileinput{display:inline-block;margin-bottom:9px}.fileinput .form-control{display:inline-block;padding-top:7px;padding-bottom:5px;margin-bottom:0;vertical-align:middle;cursor:text}.fileinput .thumbnail{display:inline-block;margin-bottom:5px;overflow:hidden;text-align:center;vertical-align:middle}.fileinput .thumbnail>img{max-height:100%}.fileinput .btn{vertical-align:middle}.fileinput-exists .fileinput-new,.fileinput-new .fileinput-exists{display:none}.fileinput-inline .fileinput-controls{display:inline}.fileinput-filename{display:inline-block;overflow:hidden;vertical-align:middle}.form-control .fileinput-filename{vertical-align:bottom}.fileinput.input-group{display:table}.fileinput.input-group>*{position:relative;z-index:2}.fileinput.input-group>.btn-file{z-index:1}.fileinput-new.input-group .btn-file,.fileinput-new .input-group .btn-file{border-radius:0 4px 4px 0}.fileinput-new.input-group .btn-file.btn-xs,.fileinput-new .input-group .btn-file.btn-xs,.fileinput-new.input-group .btn-file.btn-sm,.fileinput-new .input-group .btn-file.btn-sm{border-radius:0 3px 3px 0}.fileinput-new.input-group .btn-file.btn-lg,.fileinput-new .input-group .btn-file.btn-lg{border-radius:0 6px 6px 0}.form-group.has-warning .fileinput .fileinput-preview{color:#8a6d3b}.form-group.has-warning .fileinput .thumbnail{border-color:#faebcc}.form-group.has-error .fileinput .fileinput-preview{color:#a94442}.form-group.has-error .fileinput .thumbnail{border-color:#ebccd1}.form-group.has-success .fileinput .fileinput-preview{color:#3c763d}.form-group.has-success .fileinput .thumbnail{border-color:#d6e9c6}.input-group-addon:not(:first-child){border-left:0}
</style>

<div class="control-group"> 
<div class="controls controls-row"> 
  <div style="max-width: 200px;" class="fileinput fileinput-new" data-provides="fileinput">
   <label for="avatar_upload_file" class="control-label fileinput-exists">{L_PREVIEW}{L_COLON}</label>
	  <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;"></div>
	   <div>
		<span class="btn btn-default btn-file">
		<span class="fileinput-new"><i class="fa fa-picture-o"></i>&nbsp;{L_SELECT_IMAGE}</span>
		<span class="fileinput-exists">{L_CHANGE}</span>
		 <input type="hidden" name="MAX_FILE_SIZE" value="{AVATAR_UPLOAD_SIZE}" />
		  <input type="file" name="avatar_upload_file" id="avatar_upload_file" class="default">
		</span>
		<a href="#" title="{L_DELETE_AVATAR}" class="btn btn-default fileinput-exists" data-dismiss="fileinput"><i class="fa fa-times"></i></a>
	   </div>
	<div class="space10 fileinput-exists"></div>	
   <div class="help-block fileinput-exists"><span class="label label-info">{L_NOTE}</span>&nbsp;{L_UCP_SUBMIT_TO_UPLOAD}</div>
  </div>
</div>
</div>

    <!-- IF S_UPLOAD_AVATAR_URL -->   
	  <div class="control-group">
      <label for="avatar_upload_url" class="control-label">{L_UPLOAD_AVATAR_URL}</label><span class="help-block">{L_UPLOAD_AVATAR_URL_EXPLAIN}</span>
        <div class="controls controls-row"> 
             <input type="url" name="avatar_upload_url" id="avatar_upload_url" value="" class="form-control" placeholder="http://the-avatar-site/avatar.gif">
        </div>
      </div>
	<!-- ENDIF -->


